<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>在线评教系统---权限管理模块</title>
    <link type="text/css" th:href="@{/static/layui/css/layui.css}" rel="stylesheet">
    <link type="text/css" th:href="@{/static/layui/treetable-lay/treetable.css}" rel="stylesheet">
    <script type="text/javascript" th:src="@{/static/js/jquery-3.4.0.js}"></script>
    <script type="text/javascript" th:src="@{/static/js/jquery.min.js}"></script>
    <script type="text/javascript" th:src="@{/static/layui/layui.js}"></script>
    <script type="text/javascript" th:src="@{/static/layui/treetable-lay/treetable.js}"></script>
</head>
<body>
<table id="table1" class="layui-table" lay-filter="table1"></table>
<script>

    layui.config({
        base: '/static/layui/'
    }).extend({
        treetable: '/treetable-lay/treetable'
    }).use(['layer', 'table', 'treetable'], function () {
        var $ = layui.jquery;
        var table = layui.table;
        var treetable = layui.treetable;

        // 渲染表格
        var renderTable1 = function () {
            layer.load(2);
                treetable.render({
                    treeColIndex: 1,//树形图标显示在第几列
                    treeSpid: 0,//最上级的父级id
                    treeIdName: 'power_Id', //id字段的名称
                    treePidName: 'power_parentid', //   pid字段的名称
                    treeDefaultClose: true, //是否默认折叠/
                    treeLinkage: false,//父级展开时是否自动展开所有子级
                    elem: '#table1',
                    url: "/powerBoot/queryTreePower",
                    page: false,
                    cols: [
                        [
                        ,{field:'power_Id', title: '权限编号', sort: true}
                        ,{field:'power_Name',  title: '权限名称'}
                        ,{field:'power_url', title: '权限地址'}
                        ,{field:'power_state', title:'权限状态'}
                        ,{field:'power_parentid',title: '上级功能'}
                        ,{field:'describe', width:120,title: '描述'}
                        ,{field:'sort', width:100,title: '排序'}

                    ]
                    ],
                    done: function () {
                        layer.closeAll('loading');
                    }
                });
            };
        renderTable1();
    })

</script>
</body>
</html>