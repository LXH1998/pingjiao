<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link type="text/css" th:href="@{/static/layui/css/layui.css}" rel="stylesheet">
    <script type="text/javascript" th:src="@{/static/js/jquery-3.4.0.js}"></script>
    <script type="text/javascript" th:src="@{/static/layui/layui.js}"></script>
</head>
<body>
<table id="demo" lay-filter="test"></table>

<script type="text/html" id="barDemo">
    <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del">删除</a>

    <!-- 这里同样支持 laytpl 语法，如： -->
    {{#  if(d.auth > 2){ }}
    <a class="layui-btn layui-btn-xs" lay-event="check">审核</a>
    {{#  } }}
</script>

<!--序号自增-->
<script type="text/html" id="xuhao">
    {{d.LAY_TABLE_INDEX+1}}
</script>

<script>
    var roleID;
    function child(obj){
        roleID=obj.role_ID;
        role_Name=obj.role_Name;
        // console.log(obj);
        // console.log(roleID);

        layui.use('table', function(){
            var table = layui.table;
            // child();
            console.log(roleID);

            //数据表表头
            table.render({
                elem: '#demo'
                ,height: 200
                ,url: '/roleManagement/selectThePower' //数据接口
                ,where: {
                    role_ID:roleID
                } //设定异步数据接口的额外参数
                ,page: true //开启分页
                ,cols: [
                    [ //表头
                        {field: 'power_Id', templet: '#xuhao',title: '序号', width:'20%', sort: true, fixed: 'left', align: 'center'}
                        ,{field:'power_Name',  title: '权限', width:'30%', align: 'center'}
                        ,{title: '操作', width: '50%', align: 'center', toolbar: '#barDemo'}
                    ]
                ]
            });
        });
    };



</script>
</body>
</html>